# Square One Global Docker

Status: **Alpha**

### Get Started

Run `./install.sh`

### Requirements

1. PHP 7.2+
1. composer
1. docker
1. docker-compose
1. docker-credential-helper (osx)
1. bash-completion (if you want sq1 autocomplete commands)

### OSX Dependencies

Run `brew install $(<brew/packages.txt)` to install dependencies.


### Development installation

1. Clone this repo.
1. Symlink the `sq1` binary to a directory in your path, e.g. `ln -s /path/to/this/repo/sq1 /usr/local/bin/sq1`.
1. If you already have cloned a square-one repo, copy the `global/certs` folder to the `global/certs` folder in this repo.
1. Stop all your existing containers `docker stop $(docker ps -aq)`.
1. Run `composer install`.
1. Run `sq1` for command options (`sq1 create` doesn't do anything yet).

### Manual Bash Autocompletion

Add `source /PATH/TO/THIS/REPO/bin/bash-autocomplete.sh` to your `~/.bashrc` or `~/.zshrc` or `~/.bash_profile` and reload your terminal.

**Development**

Each time a new command is added, the bash-autocomplete.sh needs to be regenerated by globally installing [Symfony console autocomplete](https://github.com/bamarni/symfony-console-autocomplete).  
Run `symfony-autocomplete sq1` and copy the contents into [bash-autocomplete.sh](bin/bash-autocomplete.sh)

### Usage
- Run `sq1` to see a command list.
- To pass arguments to a command, separate the command and the arguments with `--`, e.g. `sq1 wp cli info -- --format=json`

